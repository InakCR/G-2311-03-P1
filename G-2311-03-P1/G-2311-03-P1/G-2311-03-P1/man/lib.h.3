.TH "lib.h" 3 "Jueves, 23 de Febrero de 2017" "Redes2-Servidor" \" -*- nroff -*-
.ad l
.nh
.SH NAME
lib.h \- Libreria de funciones para la creacion y uso de un servidor basado en IRC\&.  

.SH SYNOPSIS
.br
.PP
\fC#include <stdio\&.h>\fP
.br
\fC#include <stdlib\&.h>\fP
.br
\fC#include <sys/types\&.h>\fP
.br
\fC#include <sys/socket\&.h>\fP
.br
\fC#include <netinet/in\&.h>\fP
.br
\fC#include <unistd\&.h>\fP
.br
\fC#include <redes2/irc\&.h>\fP
.br
\fC#include <string\&.h>\fP
.br
\fC#include <signal\&.h>\fP
.br
\fC#include <sys/stat\&.h>\fP
.br
\fC#include <syslog\&.h>\fP
.br
\fC#include <netdb\&.h>\fP
.br
\fC#include <fcntl\&.h>\fP
.br
\fC#include <stdarg\&.h>\fP
.br
\fC#include <memory\&.h>\fP
.br
\fC#include <stropts\&.h>\fP
.br
\fC#include <sys/resource\&.h>\fP
.br
\fC#include <arpa/inet\&.h>\fP
.br
\fC#include <sys/select\&.h>\fP
.br
\fC#include <sys/time\&.h>\fP
.br
\fC#include <pthread\&.h>\fP
.br

.SS "'defines'"

.in +1c
.ti -1c
.RI "#define \fBBUFFER_SIZE\fP   1024"
.br
.RI "\fItamaño maximo que puede tener un buffer\&. \fP"
.ti -1c
.RI "#define \fBMAX_CLIENTS\fP   20"
.br
.RI "\fInumero de clientes maximo que soporta el servidor\&. \fP"
.ti -1c
.RI "#define \fBMAX_MNS\fP   2000"
.br
.RI "\fInumero maximo de milisegundos\&. \fP"
.ti -1c
.RI "#define \fBNUM_BYTES\fP   8192"
.br
.RI "\fItamaño maximo de bytes\&. \fP"
.in -1c
.SS "Funciones"

.in +1c
.ti -1c
.RI "void \fBon_error\fP (int log, char *err)"
.br
.RI "\fIon_error\&. \fP"
.ti -1c
.RI "int \fBini_server\fP (int port)"
.br
.RI "\fIini_server\&. \fP"
.ti -1c
.RI "int \fBdaemonizar\fP (char *service)"
.br
.RI "\fIdaemonizar\&. \fP"
.ti -1c
.RI "int \fBaccept_conex\fP (int sock)"
.br
.RI "\fIaccept_conex\&. \fP"
.ti -1c
.RI "void * \fBdeal_cliente\fP (void *sock)"
.br
.RI "\fIdeal_cliente\&. \fP"
.ti -1c
.RI "int \fBrecibir\fP (int sock)"
.br
.RI "\fIaccept_conex\&. \fP"
.in -1c
.SH "Descripción detallada"
.PP 
Libreria de funciones para la creacion y uso de un servidor basado en IRC\&. 


.PP
\fBAutor:\fP
.RS 4
Iñaki Cadalso innaki.cadalso@estudiante.uam.es, Enrique Aracil enrique.aracil@estudiante.uam.es Grupo 2311 
.RE
.PP
\fBVersión:\fP
.RS 4
1\&.0 
.RE
.PP
\fBFecha:\fP
.RS 4
13-02-2017 
.RE
.PP

.SH "Documentación de las funciones"
.PP 
.SS "int accept_conex (int sock)"

.PP
accept_conex\&. Descripcion: Acepta la conexion por parte de un cliente 
.PP
\fBParámetros:\fP
.RS 4
\fIsock\fP socket del servidor\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
int: socket de conexion al cliente si todo fue correcto, EXIT_FAILURE en caso de error\&. 
.RE
.PP

.SS "int daemonizar (char * service)"

.PP
daemonizar\&. Descripcion: Convierte el proceso a depender de ini (daemon) 
.PP
\fBParámetros:\fP
.RS 4
\fIservice\fP Nombre de servicion a daemonizar\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
int: EXIT_SUCCESS si todo fue correcto, EXIT_FAILURE en caso de error\&. 
.RE
.PP

.SS "void* deal_cliente (void * sock)"

.PP
deal_cliente\&. Descripcion: Trata con el cliente recibiendo sus mensajes y contestandole 
.PP
\fBParámetros:\fP
.RS 4
\fIsock\fP Socket de la conexion cliente\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
void 
.RE
.PP

.SS "int ini_server (int port)"

.PP
ini_server\&. Descripcion: Inicializa un socket y lo deja escuchando 
.PP
\fBParámetros:\fP
.RS 4
\fIport\fP Puerto donde escucha el servidor\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
int: EXIT_SUCCESS si todo fue correcto, EXIT_FAILURE en caso de error\&. 
.RE
.PP

.SS "void on_error (int log, char * err)"

.PP
on_error\&. Descripcion: Imprime el mensaje dado en el syslog y finaliza el proceso\&. 
.PP
\fBParámetros:\fP
.RS 4
\fIlog\fP Nivel de prioridad del log\&. 
.br
\fIerr\fP mensaje a imprimir\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
void 
.RE
.PP

.SS "int recibir (int sock)"

.PP
accept_conex\&. Descripcion: Recibe un comman do por parte del cliente y lo realiza ne el servidor 
.PP
\fBParámetros:\fP
.RS 4
\fIsock\fP socket del servidor\&. 
.RE
.PP
\fBDevuelve:\fP
.RS 4
int: socket de conexion al cliente si todo fue correcto, EXIT_FAILURE en caso de error\&. 
.RE
.PP

.SH "Autor"
.PP 
Generado automáticamente por Doxygen para Redes2-Servidor del código fuente\&.
